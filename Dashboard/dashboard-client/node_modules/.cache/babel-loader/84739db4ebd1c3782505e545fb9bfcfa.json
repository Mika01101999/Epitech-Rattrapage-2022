{"ast":null,"code":"var _jsxFileName = \"/Users/mickaelassouline/TECK3/BTBTTF/Epitech-Rattrapage-2022/Dashboard/dashboard-client/src/service/Covid.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Card } from 'react-bootstrap';\nimport logo1 from \"../assets/covid-19.svg\";\nimport axios from 'axios';\nimport { CircularProgress } from \"@material-ui/core\";\nimport Countries from '../components/Countries';\nimport Cards from '../components/Cards';\nimport Chart from '../components/Chart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst url = \"https://covid19.mathdro.id/api\";\nexport const fetchData = async country => {\n  let changedUrl = url;\n\n  if (country) {\n    changedUrl = `${url}/countries/${country}`;\n  }\n\n  try {\n    const {\n      data: {\n        confirmed,\n        recovered,\n        deaths,\n        lastUpdate\n      }\n    } = await axios.get(changedUrl);\n    return {\n      confirmed,\n      recovered,\n      deaths,\n      lastUpdate\n    };\n  } catch (error) {\n    return error;\n  }\n};\nexport const fetchCountries = async () => {\n  try {\n    const {\n      data: {\n        countries\n      }\n    } = await axios.get(`${url}/countries`);\n    return countries.map(country => country.name);\n  } catch (error) {\n    return error;\n  }\n};\nexport class CovidCountryWidget extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      data: {},\n      country: ''\n    };\n\n    this.handleCountryChange = async country => {\n      const fetchedData = await fetchData(country);\n      this.setState({\n        data: fetchedData,\n        country: country\n      });\n      console.log(fetchedData);\n    };\n  }\n\n  async componentDidMount() {\n    const fetchedData = await fetchData(\"Afghanistan\");\n    this.setState({\n      data: fetchedData\n    });\n    console.log(fetchedData);\n  }\n\n  render() {\n    const {\n      data\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          width: '39rem',\n          height: '20rem',\n          backgroundColor: '#ececec'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n          variant: \"top-left\",\n          src: logo1,\n          width: \"50\",\n          height: \"50\",\n          align: \"left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n            children: \"Covid Numbers by Country\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Countries, {\n            handleCountryChange: this.handleCountryChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Cards, {\n            data: data\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nexport class CovidCountryChartWidget extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      data: {},\n      country: ''\n    };\n\n    this.handleCountryChange = async country => {\n      const fetchedData = await fetchData(country);\n      this.setState({\n        data: fetchedData,\n        country: country\n      });\n      console.log(fetchedData);\n    };\n  }\n\n  async componentDidMount() {\n    const fetchedData = await fetchData(\"Afghanistan\");\n    this.setState({\n      data: fetchedData\n    });\n    console.log(fetchedData);\n  }\n\n  render() {\n    const {\n      data\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          width: '39rem',\n          height: '20rem',\n          backgroundColor: '#ececec'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n          variant: \"top-left\",\n          src: logo1,\n          width: \"50\",\n          height: \"50\",\n          align: \"left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n            children: \"Covid Country Numbers Graphs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Countries, {\n            handleCountryChange: this.handleCountryChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Chart, {\n            data: data\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nexport class CovidGlobalWidget extends Component {\n  async componentDidMount() {\n    const fetchedData = await fetchData();\n    this.setState({\n      data: fetchedData\n    });\n    console.log(fetchedData);\n  }\n\n  render() {\n    if (!this.state) {\n      return /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 18\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          width: '39rem',\n          height: '20rem',\n          backgroundColor: '#ececec'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n          variant: \"top-left\",\n          src: logo1,\n          width: \"50\",\n          height: \"50\",\n          align: \"left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n            children: \"Covid Global Numbers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [\"Cases: \", this.state.data.confirmed.value]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [\"Deaths: \", this.state.data.deaths.value]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/mickaelassouline/TECK3/BTBTTF/Epitech-Rattrapage-2022/Dashboard/dashboard-client/src/service/Covid.js"],"names":["React","Component","Card","axios","CircularProgress","Countries","Cards","Chart","url","fetchData","country","changedUrl","data","confirmed","recovered","deaths","lastUpdate","get","error","fetchCountries","countries","map","name","CovidCountryWidget","state","handleCountryChange","fetchedData","setState","console","log","componentDidMount","render","width","height","backgroundColor","logo1","CovidCountryChartWidget","CovidGlobalWidget","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,sCAAP;AACA,SAASC,IAAT,QAAqB,iBAArB;;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,gBAAT,QAAiC,mBAAjC;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;;AAEA,MAAMC,GAAG,GAAG,gCAAZ;AAEA,OAAO,MAAMC,SAAS,GAAG,MAAOC,OAAP,IAAmB;AACxC,MAAIC,UAAU,GAAGH,GAAjB;;AACA,MAAGE,OAAH,EAAW;AACPC,IAAAA,UAAU,GAAI,GAAEH,GAAI,cAAaE,OAAQ,EAAzC;AACH;;AACD,MAAI;AACD,UAAM;AAAEE,MAAAA,IAAI,EAAE;AAAEC,QAAAA,SAAF;AAAaC,QAAAA,SAAb;AAAwBC,QAAAA,MAAxB;AAAgCC,QAAAA;AAAhC;AAAR,QAA0D,MAAMb,KAAK,CAACc,GAAN,CAAUN,UAAV,CAAtE;AACA,WAAO;AAAEE,MAAAA,SAAF;AAAaC,MAAAA,SAAb;AAAwBC,MAAAA,MAAxB;AAAgCC,MAAAA;AAAhC,KAAP;AACF,GAHD,CAGE,OAAME,KAAN,EAAY;AACV,WAAOA,KAAP;AACH;AACJ,CAXM;AAaP,OAAO,MAAMC,cAAc,GAAG,YAAW;AACvC,MAAI;AACA,UAAM;AAAEP,MAAAA,IAAI,EAAE;AAAEQ,QAAAA;AAAF;AAAR,QAA0B,MAAMjB,KAAK,CAACc,GAAN,CAAW,GAAET,GAAI,YAAjB,CAAtC;AACA,WAAOY,SAAS,CAACC,GAAV,CAAcX,OAAO,IAAIA,OAAO,CAACY,IAAjC,CAAP;AACH,GAHD,CAGE,OAAMJ,KAAN,EAAY;AACV,WAAOA,KAAP;AACH;AACF,CAPM;AAUP,OAAO,MAAMK,kBAAN,SAAiCtB,SAAjC,CAA2C;AAAA;AAAA;AAAA,SAEhDuB,KAFgD,GAExC;AACNZ,MAAAA,IAAI,EAAE,EADA;AAENF,MAAAA,OAAO,EAAE;AAFH,KAFwC;;AAAA,SAahDe,mBAbgD,GAa1B,MAAMf,OAAN,IAAkB;AACtC,YAAMgB,WAAW,GAAG,MAAMjB,SAAS,CAACC,OAAD,CAAnC;AACA,WAAKiB,QAAL,CAAc;AAACf,QAAAA,IAAI,EAAEc,WAAP;AAAoBhB,QAAAA,OAAO,EAAEA;AAA7B,OAAd;AACAkB,MAAAA,OAAO,CAACC,GAAR,CAAYH,WAAZ;AACD,KAjB+C;AAAA;;AAOzB,QAAjBI,iBAAiB,GAAE;AACvB,UAAMJ,WAAW,GAAG,MAAMjB,SAAS,CAAC,aAAD,CAAnC;AACA,SAAKkB,QAAL,CAAc;AAACf,MAAAA,IAAI,EAAEc;AAAP,KAAd;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYH,WAAZ;AACD;;AASDK,EAAAA,MAAM,GAAE;AACN,UAAM;AAAEnB,MAAAA;AAAF,QAAW,KAAKY,KAAtB;AACA,wBACE;AAAA,6BACE,QAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEQ,UAAAA,KAAK,EAAE,OAAT;AAAkBC,UAAAA,MAAM,EAAE,OAA1B;AAAoCC,UAAAA,eAAe,EAAE;AAArD,SAAb;AAAA,gCACA,QAAC,IAAD,CAAM,GAAN;AAAU,UAAA,OAAO,EAAC,UAAlB;AAA6B,UAAA,GAAG,EAAEC,KAAlC;AAAyC,UAAA,KAAK,EAAC,IAA/C;AACI,UAAA,MAAM,EAAC,IADX;AACgB,UAAA,KAAK,EAAC;AADtB;AAAA;AAAA;AAAA;AAAA,gBADA,eAGA,QAAC,IAAD,CAAM,IAAN;AAAA,kCACA,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA,QAAC,SAAD;AAAW,YAAA,mBAAmB,EAAE,KAAKV;AAArC;AAAA;AAAA;AAAA;AAAA,kBAFA,eAGA,QAAC,KAAD;AAAO,YAAA,IAAI,EAAEb;AAAb;AAAA;AAAA;AAAA;AAAA,kBAHA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAaD;;AAnC+C;AAsClD,OAAO,MAAMwB,uBAAN,SAAsCnC,SAAtC,CAAgD;AAAA;AAAA;AAAA,SAErDuB,KAFqD,GAE7C;AACNZ,MAAAA,IAAI,EAAE,EADA;AAENF,MAAAA,OAAO,EAAE;AAFH,KAF6C;;AAAA,SAarDe,mBAbqD,GAa/B,MAAMf,OAAN,IAAkB;AACtC,YAAMgB,WAAW,GAAG,MAAMjB,SAAS,CAACC,OAAD,CAAnC;AACA,WAAKiB,QAAL,CAAc;AAACf,QAAAA,IAAI,EAAEc,WAAP;AAAoBhB,QAAAA,OAAO,EAAEA;AAA7B,OAAd;AACAkB,MAAAA,OAAO,CAACC,GAAR,CAAYH,WAAZ;AACD,KAjBoD;AAAA;;AAO9B,QAAjBI,iBAAiB,GAAE;AACvB,UAAMJ,WAAW,GAAG,MAAMjB,SAAS,CAAC,aAAD,CAAnC;AACA,SAAKkB,QAAL,CAAc;AAACf,MAAAA,IAAI,EAAEc;AAAP,KAAd;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYH,WAAZ;AACD;;AASDK,EAAAA,MAAM,GAAE;AACN,UAAM;AAAEnB,MAAAA;AAAF,QAAW,KAAKY,KAAtB;AACA,wBACE;AAAA,6BACE,QAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEQ,UAAAA,KAAK,EAAE,OAAT;AAAkBC,UAAAA,MAAM,EAAE,OAA1B;AAAoCC,UAAAA,eAAe,EAAE;AAArD,SAAb;AAAA,gCACA,QAAC,IAAD,CAAM,GAAN;AAAU,UAAA,OAAO,EAAC,UAAlB;AAA6B,UAAA,GAAG,EAAEC,KAAlC;AAAyC,UAAA,KAAK,EAAC,IAA/C;AACI,UAAA,MAAM,EAAC,IADX;AACgB,UAAA,KAAK,EAAC;AADtB;AAAA;AAAA;AAAA;AAAA,gBADA,eAGA,QAAC,IAAD,CAAM,IAAN;AAAA,kCACA,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA,QAAC,SAAD;AAAW,YAAA,mBAAmB,EAAE,KAAKV;AAArC;AAAA;AAAA;AAAA;AAAA,kBAFA,eAGA,QAAC,KAAD;AAAO,YAAA,IAAI,EAAEb;AAAb;AAAA;AAAA;AAAA;AAAA,kBAHA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAaD;;AAnCoD;AAsCvD,OAAO,MAAMyB,iBAAN,SAAgCpC,SAAhC,CAA0C;AAExB,QAAjB6B,iBAAiB,GAAE;AACrB,UAAMJ,WAAW,GAAG,MAAMjB,SAAS,EAAnC;AACA,SAAKkB,QAAL,CAAc;AAACf,MAAAA,IAAI,EAAEc;AAAP,KAAd;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYH,WAAZ;AACD;;AAEDK,EAAAA,MAAM,GAAG;AAEP,QAAG,CAAC,KAAKP,KAAT,EAAe;AACX,0BAAO,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;;AAED,wBACE;AAAA,6BACE,QAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEQ,UAAAA,KAAK,EAAE,OAAT;AAAkBC,UAAAA,MAAM,EAAE,OAA1B;AAAoCC,UAAAA,eAAe,EAAE;AAArD,SAAb;AAAA,gCACE,QAAC,IAAD,CAAM,GAAN;AAAU,UAAA,OAAO,EAAC,UAAlB;AAA6B,UAAA,GAAG,EAAEC,KAAlC;AAAyC,UAAA,KAAK,EAAC,IAA/C;AACE,UAAA,MAAM,EAAC,IADT;AACc,UAAA,KAAK,EAAC;AADpB;AAAA;AAAA;AAAA;AAAA,gBADF,eAGE,QAAC,IAAD,CAAM,IAAN;AAAA,kCACA,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEE,QAAC,IAAD,CAAM,IAAN;AAAA,kCACU,KAAKX,KAAL,CAAWZ,IAAX,CAAgBC,SAAhB,CAA0ByB,KADpC;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,eAKE,QAAC,IAAD,CAAM,IAAN;AAAA,mCACW,KAAKd,KAAL,CAAWZ,IAAX,CAAgBG,MAAhB,CAAuBuB,KADlC;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAiBD;;AA/B4C","sourcesContent":["import React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Card } from 'react-bootstrap';\nimport logo1 from \"../assets/covid-19.svg\";\nimport axios from 'axios';\nimport { CircularProgress } from \"@material-ui/core\";\nimport Countries from '../components/Countries';\nimport Cards from '../components/Cards';\nimport Chart from '../components/Chart';\n\nconst url = \"https://covid19.mathdro.id/api\";\n\nexport const fetchData = async (country) => {\n    let changedUrl = url;\n    if(country){\n        changedUrl = `${url}/countries/${country}`;\n    }\n    try {\n       const { data: { confirmed, recovered, deaths, lastUpdate } } =  await axios.get(changedUrl);\n       return { confirmed, recovered, deaths, lastUpdate };\n    } catch(error){\n        return error;\n    }\n}\n\nexport const fetchCountries = async() => {\n  try {\n      const { data: { countries } } = await axios.get(`${url}/countries`);\n      return countries.map(country => country.name );\n  } catch(error){\n      return error;\n  }\n}\n\n\nexport class CovidCountryWidget extends Component {\n\n  state = {\n    data: {},\n    country: ''\n  }\n\n  async componentDidMount(){\n    const fetchedData = await fetchData(\"Afghanistan\");\n    this.setState({data: fetchedData})\n    console.log(fetchedData);\n  }\n\n  handleCountryChange = async(country) => {\n    const fetchedData = await fetchData(country);\n    this.setState({data: fetchedData, country: country})\n    console.log(fetchedData);\n  }\n\n\n  render(){\n    const { data } = this.state;\n    return (\n      <div >\n        <Card style={{ width: '39rem', height: '20rem' , backgroundColor: '#ececec'}}>\n        <Card.Img variant=\"top-left\" src={logo1} width=\"50\"\n            height=\"50\" align=\"left\"/>\n        <Card.Body>\n        <Card.Title>Covid Numbers by Country</Card.Title>\n        <Countries handleCountryChange={this.handleCountryChange} />\n        <Cards data={data} />\n        </Card.Body>\n        </Card>\n      </div>\n    )\n  }\n}\n\nexport class CovidCountryChartWidget extends Component {\n\n  state = {\n    data: {},\n    country: ''\n  }\n\n  async componentDidMount(){\n    const fetchedData = await fetchData(\"Afghanistan\");\n    this.setState({data: fetchedData})\n    console.log(fetchedData);\n  }\n\n  handleCountryChange = async(country) => {\n    const fetchedData = await fetchData(country);\n    this.setState({data: fetchedData, country: country})\n    console.log(fetchedData);\n  }\n\n\n  render(){\n    const { data } = this.state;\n    return (\n      <div >\n        <Card style={{ width: '39rem', height: '20rem' , backgroundColor: '#ececec'}}>\n        <Card.Img variant=\"top-left\" src={logo1} width=\"50\"\n            height=\"50\" align=\"left\"/>\n        <Card.Body>\n        <Card.Title>Covid Country Numbers Graphs</Card.Title>\n        <Countries handleCountryChange={this.handleCountryChange} />\n        <Chart data={data} />\n        </Card.Body>\n        </Card>\n      </div>\n    )\n  }\n}\n\nexport class CovidGlobalWidget extends Component {\n\n  async componentDidMount(){\n      const fetchedData = await fetchData();\n      this.setState({data: fetchedData})\n      console.log(fetchedData);\n    }\n\n    render() {\n\n      if(!this.state){\n          return <CircularProgress  />\n      }\n\n      return (\n        <div >\n          <Card style={{ width: '39rem', height: '20rem' , backgroundColor: '#ececec'}}>\n            <Card.Img variant=\"top-left\" src={logo1} width=\"50\"\n              height=\"50\" align=\"left\"/>\n            <Card.Body>\n            <Card.Title>Covid Global Numbers</Card.Title>\n              <Card.Text>\n                Cases: {this.state.data.confirmed.value}\n              </Card.Text>\n              <Card.Text>\n                Deaths: {this.state.data.deaths.value}\n              </Card.Text>\n            </Card.Body>\n            </Card>\n        </div>\n      )\n    }\n}"]},"metadata":{},"sourceType":"module"}